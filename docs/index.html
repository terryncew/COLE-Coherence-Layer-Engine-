<!doctype html><meta charset="utf-8">
<title>COLE — NCA Grow & Heal (OpenLine Receipt)</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
  body{font:16px/1.45 -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;margin:28px;background:#fafafa}
  h1{font-size:28px;margin:0 0 6px}
  p.lead{color:#555;margin:0 0 18px}
  .row{display:flex;gap:16px;flex-wrap:wrap}
  .tile{flex:1 1 360px;padding:14px;border:1px solid #eee;border-radius:12px;background:#fff}
  .muted{color:#777}
  code{background:#f3f3f3;padding:2px 6px;border-radius:6px}
  .hint{margin-top:8px;padding:10px;border-radius:10px;background:#f7fbff;border:1px solid #e5f0ff}
  .small{font-size:13px}
</style>

<!-- stable loader for the receipt card -->
<script type="module"
  src="https://cdn.jsdelivr.net/gh/terryncew/openline-core@main/receipts-kit/openline-card.js">
</script>

<h1>COLE — NCA Grow &amp; Heal</h1>
<p class="lead">
  A tiny neural cellular automaton that self-heals after damage, then emits an OpenLine receipt:
  claim → evidence → caveat → conclusion, plus knobs, provenance, and a suggested <em>next try</em> when not green.
</p>

<div class="row">
  <div class="tile">
    <div class="muted" style="margin-bottom:8px">Latest receipt</div>
    <openline-card mode="compact" src="./receipt.latest.json"></openline-card>
    <div class="muted small" style="margin-top:8px">
      Source: <code>docs/receipt.latest.json</code> (written by the “NCA Grow &amp; Heal → OpenLine receipt” Action)
    </div>
    <div class="hint small" id="patchBox" hidden>
      <b>Suggested next try</b> (auto-applied on next run):<br>
      <code id="patchText"></code>
    </div>
  </div>

  <div class="tile">
    <div class="muted" style="margin-bottom:8px">Run it again (serverless)</div>
    <ol style="margin:0 0 10px 18px">
      <li>GitHub → <b>Actions</b> → <i>NCA Grow &amp; Heal → OpenLine receipt</i></li>
      <li>Tap <b>Run workflow</b></li>
      <li>Refresh this page</li>
    </ol>
    <div class="muted small">
      If a run isn’t green, the receipt explains <em>why</em> and proposes a small knob patch.
      The next run will pick it up automatically.
    </div>
    <p class="small" style="margin-top:10px">
      <a href="./tuning.log.jsonl">Tuning log (JSONL)</a> ·
      <a href="./proposals.latest.json">Proposed patch (JSON)</a> ·
      <a href="https://terryncew.github.io/openline-hub/">Hub</a>
    </p>
  </div>
</div>

<script>
// Show the suggested patch nicely if it exists
fetch('./receipt.latest.json').then(r => r.json()).then(j => {
  if (j.next_try && Array.isArray(j.next_try.patch)) {
    const parts = j.next_try.patch.map(p => `${p.key}→${p.to}`);
    document.getElementById('patchText').textContent = parts.join(' · ');
    document.getElementById('patchBox').hidden = false;
  }
}).catch(()=>{});
</script>
